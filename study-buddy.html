<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.9.2">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>🤖 AI مطالعہ دوست - AI Study Buddy – اردو سیکھیں - Learn Urdu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-c6982bbdd90c704a9b15aa23d87ad911.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b19c11e9a7c53e284f01de41375443ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&amp;display=swap" rel="stylesheet">


<link rel="stylesheet" href="css/custom.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">اردو سیکھیں - Learn Urdu</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">🏠 Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./alphabet.html"> 
<span class="menu-text">🔤 Alphabet</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./vocabulary.html"> 
<span class="menu-text">📖 Vocabulary</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./grammar.html"> 
<span class="menu-text">✍️ Grammar</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./conversations.html"> 
<span class="menu-text">💬 Conversations</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./quizzes.html"> 
<span class="menu-text">📝 Quizzes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./writing.html"> 
<span class="menu-text">✏️ Writing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./challenges.html"> 
<span class="menu-text">🎯 Challenges</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./progress.html"> 
<span class="menu-text">📊 Progress</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./study-buddy.html" aria-current="page"> 
<span class="menu-text">🤖 AI Study Buddy</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#your-ai-learning-assistant" id="toc-your-ai-learning-assistant" class="nav-link active" data-scroll-target="#your-ai-learning-assistant">Your AI Learning Assistant</a></li>
  <li><a href="#setup-your-ai-assistant" id="toc-setup-your-ai-assistant" class="nav-link" data-scroll-target="#setup-your-ai-assistant">Setup Your AI Assistant</a></li>
  <li><a href="#chat-with-your-ai-study-buddy" id="toc-chat-with-your-ai-study-buddy" class="nav-link" data-scroll-target="#chat-with-your-ai-study-buddy">Chat with Your AI Study Buddy</a></li>
  <li><a href="#quick-help-examples" id="toc-quick-help-examples" class="nav-link" data-scroll-target="#quick-help-examples">Quick Help Examples</a></li>
  <li><a href="#ai-features" id="toc-ai-features" class="nav-link" data-scroll-target="#ai-features">AI Features</a>
  <ul class="collapse">
  <li><a href="#what-your-ai-study-buddy-can-do" id="toc-what-your-ai-study-buddy-can-do" class="nav-link" data-scroll-target="#what-your-ai-study-buddy-can-do">💡 What Your AI Study Buddy Can Do</a></li>
  </ul></li>
  <li><a href="#chat-history" id="toc-chat-history" class="nav-link" data-scroll-target="#chat-history">Chat History</a></li>
  <li><a href="#privacy-security" id="toc-privacy-security" class="nav-link" data-scroll-target="#privacy-security">Privacy &amp; Security</a>
  <ul class="collapse">
  <li><a href="#your-data-is-safe" id="toc-your-data-is-safe" class="nav-link" data-scroll-target="#your-data-is-safe">🔒 Your Data is Safe</a></li>
  </ul></li>
  <li><a href="#javascript-for-ai-integration" id="toc-javascript-for-ai-integration" class="nav-link" data-scroll-target="#javascript-for-ai-integration">JavaScript for AI Integration</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">🤖 AI مطالعہ دوست - AI Study Buddy</h1>
<p class="subtitle lead">Get personalized help with your Urdu learning</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="your-ai-learning-assistant" class="level2 challenge-card">
<h2 class="anchored" data-anchor-id="your-ai-learning-assistant">Your AI Learning Assistant</h2>
<p>Get instant help with: - 📝 Grammar questions - 🔤 Vocabulary explanations - ✍️ Writing feedback - 🗣️ Translation help - 📚 Personalized study plans - 🎯 Learning recommendations</p>
<p><strong>Powered by FREE AI</strong> - No credit card required!</p>
</section>
<section id="setup-your-ai-assistant" class="level2">
<h2 class="anchored" data-anchor-id="setup-your-ai-assistant">Setup Your AI Assistant</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">🤗 Hugging Face (Recommended)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">⚡ Groq (Fastest)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">🔗 Together AI</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="free-forever-no-credit-card" class="level3 lesson-card">
<h3 class="anchored" data-anchor-id="free-forever-no-credit-card">Free Forever | No Credit Card</h3>
<p><strong>Steps:</strong> 1. Go to <a href="https://huggingface.co/join">huggingface.co/join</a> 2. Create free account 3. Navigate to Settings → Access Tokens 4. Create new token 5. Copy and paste below</p>
<div class="input-group">
<p><label>Hugging Face API Key:</label> <input type="password" id="hf-api-key" placeholder="hf_..."> <button class="btn-primary" onclick="saveAPIKey('huggingface')">💾 محفوظ کریں - Save</button></p>
</div>
<p><span id="hf-status" class="difficulty-badge difficulty-beginner">Not Connected</span></p>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<section id="free-super-fast" class="level3 lesson-card">
<h3 class="anchored" data-anchor-id="free-super-fast">Free &amp; Super Fast</h3>
<p><strong>Steps:</strong> 1. Visit <a href="https://console.groq.com">console.groq.com</a> 2. Sign up with Google/GitHub 3. Go to API Keys 4. Create new key 5. Paste below</p>
<div class="input-group">
<p><label>Groq API Key:</label> <input type="password" id="groq-api-key" placeholder="gsk_..."> <button class="btn-primary" onclick="saveAPIKey('groq')">💾 محفوظ کریں - Save</button></p>
</div>
<p><span id="groq-status" class="difficulty-badge difficulty-beginner">Not Connected</span></p>
</section>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<section id="free-credit" class="level3 lesson-card">
<h3 class="anchored" data-anchor-id="free-credit">$25 Free Credit</h3>
<p><strong>Steps:</strong> 1. Go to <a href="https://api.together.xyz">api.together.xyz</a> 2. Sign up 3. Get $25 free credit 4. Copy API key 5. Paste below</p>
<div class="input-group">
<p><label>Together AI API Key:</label> <input type="password" id="together-api-key" placeholder="..."> <button class="btn-primary" onclick="saveAPIKey('together')">💾 محفوظ کریں - Save</button></p>
</div>
<p><span id="together-status" class="difficulty-badge difficulty-beginner">Not Connected</span></p>
</section>
</div>
</div>
</div>
</section>
<section id="chat-with-your-ai-study-buddy" class="level2">
<h2 class="anchored" data-anchor-id="chat-with-your-ai-study-buddy">Chat with Your AI Study Buddy</h2>
<div class="lesson-card">
<div id="chat-container">
<div id="chat-messages" style="height: 400px; overflow-y: auto; border: 2px solid #e0e0e0; border-radius: 10px; padding: 20px; margin-bottom: 20px; background: #f9f9f9;">
<div class="example-box" style="direction: ltr;">
<strong>🤖 AI Study Buddy:</strong><br> السلام علیکم! Assalam-o-Alaikum! 👋<br><br> I’m your AI Urdu learning assistant. I can help you with:
<ul>
<li>
Grammar questions
</li>
<li>
Vocabulary help
</li>
<li>
Writing feedback
</li>
<li>
Translation
</li>
<li>
Practice exercises
</li>
<li>
Study recommendations
</li>
</ul>
<p>Just ask me anything in English or Urdu!</p>
</div>
</div>
<div style="display: flex; gap: 10px;">
<textarea id="user-message" class="writing-area" rows="3" placeholder="Type your question here..." style="flex: 1; font-size: 1em;"></textarea>
<button class="btn-primary" onclick="sendMessage()" style="height: fit-content;">
📤 بھیجیں<br>Send
</button>
</div>
<div style="margin-top: 10px; display: flex; gap: 10px; flex-wrap: wrap;">
<button class="quiz-option" onclick="quickQuestion('grammar')">
❓ Ask Grammar Question
</button>
<button class="quiz-option" onclick="quickQuestion('translate')">
🔄 Translate Text
</button>
<button class="quiz-option" onclick="quickQuestion('feedback')">
✍️ Get Writing Feedback
</button>
<button class="quiz-option" onclick="quickQuestion('practice')">
🎯 Practice Exercise
</button>
</div>
</div>
</div>
</section>
<section id="quick-help-examples" class="level2">
<h2 class="anchored" data-anchor-id="quick-help-examples">Quick Help Examples</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Grammar Help</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Translation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Writing Feedback</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Study Plan</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false" href="">Practice</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="example-box">
<p><strong>Example Questions:</strong></p>
<ul>
<li>“How do I conjugate the verb کھانا (to eat)?”</li>
<li>“What’s the difference between تم and آپ?”</li>
<li>“Explain Urdu gender rules”</li>
<li>“How do I make questions in Urdu?”</li>
<li>“What’s the word order in Urdu sentences?”</li>
</ul>
<button class="btn-primary" onclick="askExample('grammar')">
Try Example →
</button>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="example-box">
<p><strong>Example Requests:</strong></p>
<ul>
<li>“Translate: I am learning Urdu”</li>
<li>“How do you say ‘How are you?’ in Urdu?”</li>
<li>“What does میں طالب علم ہوں mean?”</li>
<li>“Translate this to Urdu: I love my family”</li>
</ul>
<button class="btn-primary" onclick="askExample('translate')">
Try Example →
</button>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="example-box">
<p><strong>Example:</strong></p>
<p>“Check my Urdu writing: میں استاد ہوں۔ میں سکول میں پڑھاتا ہوں۔”</p>
<p>The AI will: - Check grammar - Verify spelling - Suggest improvements - Explain mistakes</p>
<button class="btn-primary" onclick="askExample('feedback')">
Try Example →
</button>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="example-box">
<p><strong>Example Requests:</strong></p>
<ul>
<li>“Create a 7-day study plan for beginners”</li>
<li>“What should I focus on this week?”</li>
<li>“Help me prepare for intermediate level”</li>
<li>“Give me a daily practice routine”</li>
</ul>
<button class="btn-primary" onclick="askExample('plan')">
Try Example →
</button>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="example-box">
<p><strong>Get Custom Exercises:</strong></p>
<ul>
<li>“Give me 5 practice sentences with آپ”</li>
<li>“Create vocabulary quiz on food”</li>
<li>“Practice exercises for present tense”</li>
<li>“Help me practice writing my name”</li>
</ul>
<button class="btn-primary" onclick="askExample('practice')">
Try Example →
</button>
</div>
</div>
</div>
</div>
</section>
<section id="ai-features" class="level2">
<h2 class="anchored" data-anchor-id="ai-features">AI Features</h2>
<section id="what-your-ai-study-buddy-can-do" class="level3 tip-box">
<h3 class="anchored" data-anchor-id="what-your-ai-study-buddy-can-do">💡 What Your AI Study Buddy Can Do</h3>
<p><strong>✅ Instant Answers</strong> - Get immediate help 24/7 - No waiting for teachers</p>
<p><strong>✅ Personalized Learning</strong> - Adapts to your level - Focuses on your weak areas</p>
<p><strong>✅ Unlimited Practice</strong> - Ask as many questions as you want - Practice without judgment</p>
<p><strong>✅ Multiple Languages</strong> - Explains in English or Urdu - Helps with translation</p>
<p><strong>✅ Patient Teacher</strong> - Never gets tired - Repeats explanations - Encourages you</p>
<p><strong>✅ Context-Aware</strong> - Remembers your progress - Gives relevant examples - Suggests next steps</p>
</section>
</section>
<section id="chat-history" class="level2">
<h2 class="anchored" data-anchor-id="chat-history">Chat History</h2>
<div id="chat-history" class="lesson-card">
<h3 class="anchored">
Recent Conversations
</h3>
<div id="history-list">
<p style="text-align: center; color: #666;">
No chat history yet. Start asking questions!
</p>
</div>
<button class="btn-primary" onclick="clearHistory()">
🗑️ Clear History
</button>
</div>
</section>
<section id="privacy-security" class="level2">
<h2 class="anchored" data-anchor-id="privacy-security">Privacy &amp; Security</h2>
<section id="your-data-is-safe" class="level3 grammar-box">
<h3 class="anchored" data-anchor-id="your-data-is-safe">🔒 Your Data is Safe</h3>
<ul>
<li>✅ <strong>API keys stored locally</strong> - Never sent to our servers</li>
<li>✅ <strong>Chat history in browser</strong> - Only you can see it</li>
<li>✅ <strong>No account required</strong> - Completely anonymous</li>
<li>✅ <strong>Free to use</strong> - No hidden costs</li>
<li>✅ <strong>Open source</strong> - Transparent code</li>
</ul>
<p><strong>Note:</strong> Your conversations are sent to the AI provider (Hugging Face/Groq/Together AI) for processing. Read their privacy policies for details.</p>
</section>
<hr>
<div style="text-align: center; margin: 30px 0;">
<p><strong>Continue Learning:</strong> <a href="./quizzes.html" class="btn btn-primary">Take a quiz →</a></p>
<p><strong>Track Progress:</strong> <a href="./progress.html" class="btn btn-primary">View dashboard →</a></p>
</div>
</section>
<section id="javascript-for-ai-integration" class="level2">
<h2 class="anchored" data-anchor-id="javascript-for-ai-integration">JavaScript for AI Integration</h2>
<script>
// AI Study Buddy System
class AIStudyBuddy {
    constructor() {
        this.apiKeys = this.loadAPIKeys();
        this.chatHistory = JSON.parse(localStorage.getItem('urduChatHistory') || '[]');
        this.activeProvider = localStorage.getItem('urduActiveProvider') || 'huggingface';
        this.init();
    }
    
    loadAPIKeys() {
        return {
            huggingface: localStorage.getItem('hf_api_key') || '',
            groq: localStorage.getItem('groq_api_key') || '',
            together: localStorage.getItem('together_api_key') || ''
        };
    }
    
    init() {
        // Load saved keys
        if (this.apiKeys.huggingface) {
            document.getElementById('hf-api-key').value = this.apiKeys.huggingface;
            document.getElementById('hf-status').textContent = 'Connected ✅';
            document.getElementById('hf-status').className = 'difficulty-badge difficulty-beginner';
        }
        if (this.apiKeys.groq) {
            document.getElementById('groq-api-key').value = this.apiKeys.groq;
            document.getElementById('groq-status').textContent = 'Connected ✅';
        }
        if (this.apiKeys.together) {
            document.getElementById('together-api-key').value = this.apiKeys.together;
            document.getElementById('together-status').textContent = 'Connected ✅';
        }
        
        // Load chat history
        this.displayChatHistory();
        
        // Check for pending feedback
        const pendingFeedback = localStorage.getItem('urdu-feedback-text');
        if (pendingFeedback) {
            document.getElementById('user-message').value = 
                `Please check my Urdu writing and give feedback:\n\n${pendingFeedback}`;
            localStorage.removeItem('urdu-feedback-text');
        }
    }
    
    async sendMessage(message) {
        if (!message.trim()) {
            alert('پہلے سوال لکھیں! Please type a question first!');
            return;
        }
        
        // Check if API key is set
        const hasKey = this.apiKeys.huggingface || this.apiKeys.groq || this.apiKeys.together;
        if (!hasKey) {
            alert('پہلے API Key داخل کریں!\nPlease set up an API key first!');
            return;
        }
        
        // Add user message to chat
        this.addMessageToChat('user', message);
        
        // Show loading
        this.addMessageToChat('ai', 'Thinking... 🤔');
        
        try {
            const response = await this.callAI(message);
            // Remove loading message
            const messages = document.getElementById('chat-messages');
            messages.removeChild(messages.lastChild);
            // Add AI response
            this.addMessageToChat('ai', response);
            
            // Save to history
            this.chatHistory.push({
                timestamp: new Date().toISOString(),
                user: message,
                ai: response
            });
            localStorage.setItem('urduChatHistory', JSON.stringify(this.chatHistory));
            this.displayChatHistory();
            
        } catch (error) {
            alert('Error: ' + error.message);
            // Remove loading message
            const messages = document.getElementById('chat-messages');
            messages.removeChild(messages.lastChild);
        }
        
        // Clear input
        document.getElementById('user-message').value = '';
    }
    
    async callAI(message) {
        const systemPrompt = `You are an Urdu language learning assistant. Help students learn Urdu by:
- Answering grammar questions clearly
- Providing translations between English and Urdu
- Giving feedback on Urdu writing
- Creating practice exercises
- Suggesting study strategies
- Explaining Urdu concepts simply

Always be encouraging and patient. Use both English and Urdu in your responses when appropriate.`;
        
        const fullPrompt = systemPrompt + "\n\nStudent question: " + message;
        
        // Try providers in order of preference
        if (this.apiKeys.groq) {
            return await this.callGroq(fullPrompt);
        } else if (this.apiKeys.huggingface) {
            return await this.callHuggingFace(fullPrompt);
        } else if (this.apiKeys.together) {
            return await this.callTogether(fullPrompt);
        }
        
        throw new Error('No API key configured');
    }
    
    async callHuggingFace(prompt) {
        const response = await fetch('https://api-inference.huggingface.co/models/mistralai/Mixtral-8x7B-Instruct-v0.1', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${this.apiKeys.huggingface}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                inputs: prompt,
                parameters: {
                    max_new_tokens: 500,
                    temperature: 0.7,
                    return_full_text: false
                }
            })
        });
        
        if (!response.ok) {
            throw new Error('API call failed: ' + response.statusText);
        }
        
        const data = await response.json();
        return data[0].generated_text || 'Sorry, I could not generate a response.';
    }
    
    async callGroq(prompt) {
        const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${this.apiKeys.groq}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                model: 'mixtral-8x7b-32768',
                messages: [{role: 'user', content: prompt}],
                temperature: 0.7,
                max_tokens: 500
            })
        });
        
        if (!response.ok) {
            throw new Error('API call failed: ' + response.statusText);
        }
        
        const data = await response.json();
        return data.choices[0].message.content;
    }
    
    async callTogether(prompt) {
        const response = await fetch('https://api.together.xyz/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${this.apiKeys.together}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                model: 'mistralai/Mixtral-8x7B-Instruct-v0.1',
                messages: [{role: 'user', content: prompt}],
                temperature: 0.7,
                max_tokens: 500
            })
        });
        
        if (!response.ok) {
            throw new Error('API call failed: ' + response.statusText);
        }
        
        const data = await response.json();
        return data.choices[0].message.content;
    }
    
    addMessageToChat(sender, message) {
        const messagesDiv = document.getElementById('chat-messages');
        const messageDiv = document.createElement('div');
        messageDiv.className = sender === 'user' ? 'vocab-card' : 'example-box';
        messageDiv.style.direction = 'ltr';
        messageDiv.style.marginBottom = '15px';
        
        const icon = sender === 'user' ? '👤' : '🤖';
        const label = sender === 'user' ? 'You' : 'AI Study Buddy';
        
        messageDiv.innerHTML = `<strong>${icon} ${label}:</strong><br>${message.replace(/\n/g, '<br>')}`;
        messagesDiv.appendChild(messageDiv);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }
    
    displayChatHistory() {
        const historyDiv = document.getElementById('history-list');
        if (this.chatHistory.length === 0) {
            historyDiv.innerHTML = '<p style="text-align: center; color: #666;">No chat history yet.</p>';
            return;
        }
        
        historyDiv.innerHTML = this.chatHistory.slice(-5).reverse().map(chat => {
            const date = new Date(chat.timestamp).toLocaleString();
            return `
                <div class="vocab-card" style="margin-bottom: 10px;">
                    <small style="color: #666;">${date}</small><br>
                    <strong>You:</strong> ${chat.user.substring(0, 50)}...<br>
                    <strong>AI:</strong> ${chat.ai.substring(0, 50)}...
                </div>
            `;
        }).join('');
    }
}

// Global functions
let aiStudyBuddy;

function saveAPIKey(provider) {
    const keyInput = document.getElementById(`${provider === 'huggingface' ? 'hf' : provider}-api-key`);
    const key = keyInput.value.trim();
    
    if (!key) {
        alert('Please enter an API key!');
        return;
    }
    
    localStorage.setItem(`${provider === 'huggingface' ? 'hf' : provider}_api_key`, key);
    localStorage.setItem('urduActiveProvider', provider);
    
    document.getElementById(`${provider === 'huggingface' ? 'hf' : provider}-status`).textContent = 'Connected ✅';
    document.getElementById(`${provider === 'huggingface' ? 'hf' : provider}-status`).className = 'difficulty-badge difficulty-beginner';
    
    alert('✅ API Key saved! You can now chat with your AI Study Buddy!');
    
    // Reinitialize
    aiStudyBuddy = new AIStudyBuddy();
}

function sendMessage() {
    const message = document.getElementById('user-message').value;
    aiStudyBuddy.sendMessage(message);
}

function quickQuestion(type) {
    const questions = {
        grammar: "How do I conjugate verbs in present tense?",
        translate: "Translate: I am learning Urdu",
        feedback: "Please check my writing: میں اردو سیکھ رہا ہوں",
        practice: "Give me 5 practice sentences with present tense verbs"
    };
    
    document.getElementById('user-message').value = questions[type];
}

function askExample(type) {
    const examples = {
        grammar: "Explain the difference between تم and آپ with examples",
        translate: "How do you say 'I love my family' in Urdu?",
        feedback: "Check my Urdu: میں استاد ہوں۔ میں سکول میں پڑھاتا ہوں۔",
        plan: "Create a 7-day study plan for Urdu beginners",
        practice: "Give me 5 practice sentences using family member vocabulary"
    };
    
    document.getElementById('user-message').value = examples[type];
    sendMessage();
}

function clearHistory() {
    if (confirm('کیا آپ تمام چیٹ تاریخ مٹانا چاہتے ہیں؟\nClear all chat history?')) {
        localStorage.removeItem('urduChatHistory');
        aiStudyBuddy.chatHistory = [];
        aiStudyBuddy.displayChatHistory();
        document.getElementById('chat-messages').innerHTML = `
            <div class="example-box">
                <strong>🤖 AI Study Buddy:</strong><br>
                Chat history cleared! Ask me anything to start a new conversation.
            </div>
        `;
    }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    aiStudyBuddy = new AIStudyBuddy();
    
    // Enter key to send
    document.getElementById('user-message').addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
        }
    });
});
</script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Muhammad Yaseen | Learn Urdu Project</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/myaseen208">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://myaseen208.com">
      <i class="bi bi-globe" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script src="js/audio-player.js"></script>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>